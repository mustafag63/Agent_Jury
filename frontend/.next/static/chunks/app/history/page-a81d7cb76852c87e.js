(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{5715:function(e,t,i){Promise.resolve().then(i.bind(i,3824))},3824:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return o}});var n=i(7437),r=i(2265),s=i(611);function o(){let[e,t]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{(async function(){try{a(""),o(!0);let e=await (0,s.o6)(),i=Number(await e.getVerdictCount()),n=[];for(let t=i-1;t>=0;t-=1){let i=await e.getVerdict(t);n.push({index:t,finalScore:Number(i.finalScore),feasibilityScore:Number(i.feasibilityScore),innovationScore:Number(i.innovationScore),riskScore:Number(i.riskScore),shortVerdict:i.shortVerdict,submitter:i.submitter,timestamp:Number(i.timestamp)})}t(n)}catch(e){a(e instanceof Error?e.message:"Failed to read history")}finally{o(!1)}})()},[]),(0,n.jsxs)("div",{className:"card",children:[(0,n.jsx)("h2",{children:"5) On-chain History"}),i&&(0,n.jsx)("p",{children:"Loading verdict history..."}),c&&(0,n.jsx)("p",{style:{color:"crimson"},children:c}),!i&&!e.length&&(0,n.jsx)("p",{children:"No verdicts saved yet."}),e.map(e=>(0,n.jsxs)("div",{className:"card",children:[(0,n.jsxs)("p",{children:[(0,n.jsxs)("strong",{children:["#",e.index]})," | Final ",e.finalScore]}),(0,n.jsxs)("p",{children:["Feasibility ",e.feasibilityScore," | Innovation ",e.innovationScore," | Risk ",e.riskScore]}),(0,n.jsx)("p",{children:e.shortVerdict}),(0,n.jsxs)("p",{children:["Submitter: ",e.submitter]}),(0,n.jsxs)("p",{children:["Time: ",function(e){let t=1e3*Number(e);return t?new Date(t).toLocaleString():"-"}(e.timestamp)]})]},e.index))]})}},611:function(e,t,i){"use strict";i.d(t,{Jo:function(){return c},l$:function(){return u},o6:function(){return a}});var n=i(288),r=i(5810);let s=i(257).env.NEXT_PUBLIC_AGENT_JURY_CONTRACT||"0xYourDeployedContractAddress",o=["function saveVerdict(bytes32 caseHash,uint8 feasibilityScore,uint8 innovationScore,uint8 riskScore,uint8 finalScore,string shortVerdict) external","function getVerdict(uint256 index) external view returns (tuple(bytes32 caseHash,uint8 feasibilityScore,uint8 innovationScore,uint8 riskScore,uint8 finalScore,string shortVerdict,address submitter,uint256 timestamp))","function getVerdictCount() external view returns (uint256)"];async function c(){if(!window.ethereum)throw Error("MetaMask not found");return new n.Q(window.ethereum)}async function a(){let e=await c();return new r.CH(s,o,e)}async function u(){let e=await c(),t=await e.getSigner();return new r.CH(s,o,t)}}},function(e){e.O(0,[414,971,117,744],function(){return e(e.s=5715)}),_N_E=e.O()}]);