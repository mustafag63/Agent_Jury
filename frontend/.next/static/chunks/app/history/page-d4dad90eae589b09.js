(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{7290:function(e,t,n){Promise.resolve().then(n.bind(n,3824))},3824:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(7437),r=n(2265),s=n(611);function a(){let[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[o,c]=(0,r.useState)("");return(0,r.useEffect)(()=>{(async function(){try{c(""),a(!0);let e=await (0,s.o6)(),n=Number(await e.getVerdictCount()),i=[];for(let t=n-1;t>=0;t-=1){let n=await e.getVerdict(t);i.push({index:t,finalScore:Number(n.finalScore),feasibilityScore:Number(n.feasibilityScore),innovationScore:Number(n.innovationScore),riskScore:Number(n.riskScore),shortVerdict:n.shortVerdict,submitter:n.submitter,timestamp:Number(n.timestamp)})}t(i)}catch(e){c(e instanceof Error?e.message:"Failed to read history")}finally{a(!1)}})()},[]),(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h2",{children:"5) On-chain History"}),n&&(0,i.jsx)("p",{children:"Loading verdict history..."}),o&&(0,i.jsx)("p",{style:{color:"crimson"},children:o}),!n&&!e.length&&(0,i.jsx)("p",{children:"No verdicts saved yet."}),e.map(e=>(0,i.jsxs)("div",{className:"card",children:[(0,i.jsxs)("p",{children:[(0,i.jsxs)("strong",{children:["#",e.index]})," | Final ",e.finalScore]}),(0,i.jsxs)("p",{children:["Feasibility ",e.feasibilityScore," | Innovation ",e.innovationScore," | Risk ",e.riskScore]}),(0,i.jsx)("p",{children:e.shortVerdict}),(0,i.jsxs)("p",{children:["Submitter: ",e.submitter]}),(0,i.jsxs)("p",{children:["Time: ",function(e){let t=1e3*Number(e);return t?new Date(t).toLocaleString():"-"}(e.timestamp)]})]},e.index))]})}},611:function(e,t,n){"use strict";n.d(t,{JJ:function(){return h},Jo:function(){return l},l$:function(){return f},o6:function(){return m}});var i=n(288),r=n(5810),s=n(257);let a=s.env.NEXT_PUBLIC_AGENT_JURY_CONTRACT||"0xYourDeployedContractAddress",o=Number(s.env.NEXT_PUBLIC_EXPECTED_CHAIN_ID)||10143,c="0x".concat(o.toString(16)),u={chainId:c,chainName:"Monad Testnet",nativeCurrency:{name:"MON",symbol:"MON",decimals:18},rpcUrls:["https://testnet-rpc.monad.xyz"],blockExplorerUrls:["https://testnet.monadexplorer.com"]},d=["function saveVerdict(bytes32 caseHash,uint8 feasibilityScore,uint8 innovationScore,uint8 riskScore,uint8 finalScore,string shortVerdict) external","function getVerdict(uint256 index) external view returns (tuple(bytes32 caseHash,uint8 feasibilityScore,uint8 innovationScore,uint8 riskScore,uint8 finalScore,string shortVerdict,address submitter,uint256 timestamp))","function getVerdictCount() external view returns (uint256)"];async function l(){if(!window.ethereum)throw Error("MetaMask not found");return new i.Q(window.ethereum)}async function h(){if(!window.ethereum)throw Error("MetaMask not found");if(parseInt(await window.ethereum.request({method:"eth_chainId"}),16)!==o)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:c}]})}catch(e){if((null==e?void 0:e.code)===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[u]});else throw Error("Please switch MetaMask to Monad Testnet (chain ".concat(o,")."))}}async function m(){let e=await l();return new r.CH(a,d,e)}async function f(){await h();let e=await l(),t=await e.getSigner();return new r.CH(a,d,t)}}},function(e){e.O(0,[414,971,117,744],function(){return e(e.s=7290)}),_N_E=e.O()}]);